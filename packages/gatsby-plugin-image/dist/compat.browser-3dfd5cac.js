import t,{Fragment as e,useRef as r,useState as n,useEffect as a}from"react";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)e.indexOf(r=i[n])>=0||(a[r]=t[r]);return a}var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){for(var e=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return u(this,t),this.tag=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return"function"==typeof t?e.interimTag.bind(e,t):"string"==typeof t?e.transformEndResult(t):(t=t.map(e.transformString.bind(e)),e.transformEndResult(t.reduce(e.processSubstitutions.bind(e,n))))},n.length>0&&Array.isArray(n[0])&&(n=n[0]),this.transformers=n.map(function(t){return"function"==typeof t?t():t}),this.tag}return s(t,[{key:"interimTag",value:function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.tag(l,t.apply(void 0,[e].concat(n)))}},{key:"processSubstitutions",value:function(t,e,r){var n=this.transformSubstitution(t.shift(),e);return"".concat(e,n,r)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,e){return e.onString?e.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,e){return this.transformers.reduce(function(t,r){return r.onSubstitution?r.onSubstitution(t,e):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,e){return e.onEndResult?e.onEndResult(t):t},t)}}]),t}(),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(e){if(""===t)return e.trim();if("start"===(t=t.toLowerCase())||"left"===t)return e.replace(/^\s*/,"");if("end"===t||"right"===t)return e.replace(/\s*$/,"");throw new Error("Side not supported: "+t)}}};function g(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(e){if("initial"===t){var r=e.match(/^[^\S\n]*(?=\S)/gm),n=r&&Math.min.apply(Math,g(r.map(function(t){return t.length})));if(n){var a=new RegExp("^.{"+n+"}","gm");return e.replace(a,"")}return e}if("all"===t)return e.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+t)}}},p=function(t,e){return{onEndResult:function(r){if(null==t||null==e)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(t,e)}}},h=function(t,e){return{onSubstitution:function(r,n){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(t,e)}}},m={separator:"",conjunction:"",serial:!1},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return{onSubstitution:function(e,r){if(Array.isArray(e)){var n=e.length,a=t.separator,i=t.conjunction,o=t.serial,s=r.match(/(\n?[^\S\n]+)$/);if(e=e.join(s?a+s[1]:a+" "),i&&n>1){var l=e.lastIndexOf(a);e=e.slice(0,l)+(o?a:"")+" "+i+e.slice(l+1)}}return e}}},b=function(t){return{onSubstitution:function(e,r){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}},w=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t};new c(y({separator:","}),f,d),new c(y({separator:",",conjunction:"and"}),f,d),new c(y({separator:",",conjunction:"or"}),f,d),new c(b("\n"),function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(w):w(t)?t:""}}},y,f,d),new c(b("\n"),y,f,d,h(/&/g,"&amp;"),h(/</g,"&lt;"),h(/>/g,"&gt;"),h(/"/g,"&quot;"),h(/'/g,"&#x27;"),h(/`/g,"&#x60;")),new c(p(/(?:\n(?:\s*))+/g," "),d),new c(p(/(?:\n\s*)/g,""),d),new c(y({separator:","}),p(/(?:\s+)/g," "),d),new c(y({separator:",",conjunction:"or"}),p(/(?:\s+)/g," "),d),new c(y({separator:",",conjunction:"and"}),p(/(?:\s+)/g," "),d),new c(y,f,d),new c(y,p(/(?:\s+)/g," "),d),new c(f,d),new c(f("all"),d);const v=new Set,S=()=>"undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;function E(t){t&&v.add(t)}function k(t){return v.has(t)}function A(t,e,r,n,a,o,s,l={}){return global.GATSBY___IMAGE||(l=i({height:"100%",left:0,position:"absolute",top:0,transform:"translateZ(0)",transition:"opacity 250ms linear",width:"100%",willChange:"opacity"},l)),i({},r,{loading:n,shouldLoad:t,"data-main-image":"",style:i({},l,{opacity:e?1:0}),onLoad:function(t){if(e)return;E(o);const r=t.currentTarget,n=new Image;n.src=r.currentSrc,n.decode?n.decode().catch(()=>{}).then(()=>{a(!0)}):a(!0)},ref:s})}function x(t,e,r,n,a,o){const s={};o&&(s.backgroundColor=o,"fixed"===r?(s.width=n,s.height=a,s.backgroundColor=o,s.position="relative"):("constrained"===r||"fluid"===r)&&(s.position="absolute",s.top=0,s.left=0,s.bottom=0,s.right=0));const l=i({},t,{"aria-hidden":!0,"data-placeholder-image":"",style:i({opacity:e?0:1,transition:"opacity 500ms linear"},s)});return global.GATSBY___IMAGE||(l.style={height:"100%",left:0,position:"absolute",top:0,width:"100%"}),l}const j=function({layout:r,width:n,height:a,children:i}){let o=null;return"fluid"===r&&(o=t.createElement("div",{"aria-hidden":!0,style:{paddingTop:a/n*100+"%"}})),"constrained"===r&&(o=t.createElement("div",{style:{maxWidth:n,display:"block"}},t.createElement("img",{alt:"",role:"presentation","aria-hidden":"true",src:`data:image/svg+xml;charset=utf-8,%3Csvg height='${a}' width='${n}' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E`,style:{maxWidth:"100%",display:"block",position:"static"}}))),t.createElement(e,null,o,i,!1)};let O=!1;const C=function(e){let{as:s="div",style:l,className:u,class:c,onStartLoad:d,image:g,onLoad:f,backgroundColor:p}=e,h=o(e,["as","style","className","class","onStartLoad","image","onLoad","backgroundColor"]);if(!g)return"development"===process.env.NODE_ENV&&console.warn("[gatsby-plugin-image] Missing image prop"),null;c&&(u=c);const{width:m,height:y,layout:b,images:w}=g,v=r(),k=r(!1),A=r(null),x=r(null),j=r(),[C,_]=n(S()),[L,N]=n(!1);global.GATSBY___IMAGE||O||(O=!0,console.warn('[gatsby-plugin-image] You\'re missing out on some cool performance features. Please add "gatsby-plugin-image" to your gatsby-config.js'));const T=function(t,e,r){const n={position:"relative",overflow:"hidden"};return"fixed"===r?(n.width=t,n.height=e):"constrained"===r&&(n.display="inline-block"),{className:"gatsby-image-wrapper","data-gatsby-image-wrapper":"",style:n}}(m,y,b),{style:G,className:I}=T,R=o(T,["style","className"]);a(()=>{if(v.current){const t=v.current.querySelector("[data-gatsby-image-ssr]");if(S()&&t&&global.GATSBY___IMAGE)return null==d||d({wasCached:!1}),t.complete&&(null==f||f(),E(JSON.stringify(w))),void t.addEventListener("load",function e(){t.removeEventListener("load",e),null==f||f(),E(JSON.stringify(w))});import("./intersection-observer-8aa685fa.js").then(({createIntersectionObserver:t})=>{const e=t(()=>{v.current&&(null==d||d({wasCached:!1}),_(!0))});v.current&&(A.current=e(v))})}return()=>{A.current&&(A.current(v),k.current&&x.current&&x.current())}},[]),a(()=>{if(v.current){const t=v.current.querySelector("[data-gatsby-image-ssr]");if(S()&&t&&!k.current)return void(k.current=!0);t||(k.current=!0),import("./lazy-hydrate-c8479894.js").then(({lazyHydrate:t})=>{x.current=t(i({image:g,isLoading:C,isLoaded:L,toggleIsLoaded:()=>{null==f||f(),N(!0)},ref:j},h),v,k)})}},[m,y,b,w,C,L,N,j,h]);const M=function(t,e,r){let n=null;return"fluid"===t&&(n=`<div aria-hidden="true" style="padding-top: ${r/e*100}%;"></div>`),"constrained"===t&&(n=`<div style="max-width: ${e}px; display: block;"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height='${r}' width='${e}' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E" style="max-width: 100%; display: block; position: static;"></div>`),n}(b,m,y);return t.createElement(s,Object.assign({},R,{style:i({},G,l,{backgroundColor:p}),className:`${I}${u?" "+u:""}`,ref:v,dangerouslySetInnerHTML:{__html:M},suppressHydrationWarning:!0}))},_=function(e){return t.createElement(C,Object.assign({},e))};function L(){"development"===process.env.NODE_ENV&&console.warn('gatsby-plugin-image/compat does not support passing arrays to "fixed" or "fluid"')}function N(e){return function(r){let{fixed:n,fluid:a,backgroundColor:s,critical:l,Tag:u}=r,c=o(r,["fixed","fluid","backgroundColor","critical","Tag"]);const d=i({alt:"",as:u,image:void 0},c);if(s&&(d.style=d.style||{},d.style.backgroundColor=!0===s?"light-gray":s),l&&(d.loading="eager"),n){Array.isArray(n)&&(L(),n=n[0]);const t={placeholder:void 0,layout:"fixed",width:n.width,height:n.height,images:{fallback:{src:n.src,srcSet:n.srcSet},sources:[]}},e=n.tracedSVG||n.base64;e&&(t.placeholder={fallback:e}),n.srcSetWebp&&t.images.sources.push({srcSet:n.srcSetWebp,type:"image/webp"}),d.image=t}else if(a){Array.isArray(a)&&(L(),a=a[0]);const t={width:1,height:a.aspectRatio,layout:"fluid",images:{fallback:{src:a.src,srcSet:a.srcSet,sizes:a.sizes},sources:[]}},e=a.tracedSVG||a.base64;e&&(t.placeholder={fallback:e}),a.srcSetWebp&&t.images.sources.push({srcSet:a.srcSetWebp,type:"image/webp",sizes:a.sizes}),d.image=t}return t.createElement(e,Object.assign({},c,d))}}_.displayName="GatsbyImage";const T=N(_);export{T as G,j as L,N as _,o as a,i as b,k as c,A as d,x as g,S as h};
//# sourceMappingURL=compat.browser-3dfd5cac.js.map
