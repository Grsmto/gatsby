import t,{Fragment as e,useRef as r,useState as n,useEffect as a}from"react";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)e.indexOf(r=i[n])>=0||(a[r]=t[r]);return a}var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){for(var e=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return l(this,t),this.tag=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return"function"==typeof t?e.interimTag.bind(e,t):"string"==typeof t?e.transformEndResult(t):(t=t.map(e.transformString.bind(e)),e.transformEndResult(t.reduce(e.processSubstitutions.bind(e,n))))},n.length>0&&Array.isArray(n[0])&&(n=n[0]),this.transformers=n.map(function(t){return"function"==typeof t?t():t}),this.tag}return s(t,[{key:"interimTag",value:function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.tag(u,t.apply(void 0,[e].concat(n)))}},{key:"processSubstitutions",value:function(t,e,r){var n=this.transformSubstitution(t.shift(),e);return"".concat(e,n,r)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,e){return e.onString?e.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,e){return this.transformers.reduce(function(t,r){return r.onSubstitution?r.onSubstitution(t,e):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,e){return e.onEndResult?e.onEndResult(t):t},t)}}]),t}(),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(e){if(""===t)return e.trim();if("start"===(t=t.toLowerCase())||"left"===t)return e.replace(/^\s*/,"");if("end"===t||"right"===t)return e.replace(/\s*$/,"");throw new Error("Side not supported: "+t)}}};function d(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(e){if("initial"===t){var r=e.match(/^[^\S\n]*(?=\S)/gm),n=r&&Math.min.apply(Math,d(r.map(function(t){return t.length})));if(n){var a=new RegExp("^.{"+n+"}","gm");return e.replace(a,"")}return e}if("all"===t)return e.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+t)}}},p=function(t,e){return{onEndResult:function(r){if(null==t||null==e)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(t,e)}}},h=function(t,e){return{onSubstitution:function(r,n){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(t,e)}}},m={separator:"",conjunction:"",serial:!1},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return{onSubstitution:function(e,r){if(Array.isArray(e)){var n=e.length,a=t.separator,i=t.conjunction,o=t.serial,s=r.match(/(\n?[^\S\n]+)$/);if(e=e.join(s?a+s[1]:a+" "),i&&n>1){var u=e.lastIndexOf(a);e=e.slice(0,u)+(o?a:"")+" "+i+e.slice(u+1)}}return e}}},v=function(t){return{onSubstitution:function(e,r){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}},b=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t},w=(new c(y({separator:","}),g,f),new c(y({separator:",",conjunction:"and"}),g,f),new c(y({separator:",",conjunction:"or"}),g,f),new c(v("\n"),function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(b):b(t)?t:""}}},y,g,f),new c(v("\n"),y,g,f,h(/&/g,"&amp;"),h(/</g,"&lt;"),h(/>/g,"&gt;"),h(/"/g,"&quot;"),h(/'/g,"&#x27;"),h(/`/g,"&#x60;")),new c(p(/(?:\n(?:\s*))+/g," "),f),new c(p(/(?:\n\s*)/g,""),f),new c(y({separator:","}),p(/(?:\s+)/g," "),f),new c(y({separator:",",conjunction:"or"}),p(/(?:\s+)/g," "),f),new c(y({separator:",",conjunction:"and"}),p(/(?:\s+)/g," "),f),new c(y,g,f),new c(y,p(/(?:\s+)/g," "),f),new c(g,f),new c(g("all"),f),new Set),S=function(){return"undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype};function E(t){t&&w.add(t)}function k(t){return w.has(t)}function A(t,e,r,n,a,o,s,u){return void 0===u&&(u={}),global.GATSBY___IMAGE||(u=i({height:"100%",left:0,position:"absolute",top:0,transform:"translateZ(0)",transition:"opacity 250ms linear",width:"100%",willChange:"opacity"},u)),i({},r,{loading:n,shouldLoad:t,"data-main-image":"",style:i({},u,{opacity:e?1:0}),onLoad:function(t){if(!e){E(o);var r=t.currentTarget,n=new Image;n.src=r.currentSrc,n.decode?n.decode().catch(function(){}).then(function(){a(!0)}):a(!0)}},ref:s})}function x(t,e,r,n,a,o){var s={};o&&(s.backgroundColor=o,"fixed"===r?(s.width=n,s.height=a,s.backgroundColor=o,s.position="relative"):("constrained"===r||"fluid"===r)&&(s.position="absolute",s.top=0,s.left=0,s.bottom=0,s.right=0));var u=i({},t,{"aria-hidden":!0,"data-placeholder-image":"",style:i({opacity:e?0:1,transition:"opacity 500ms linear"},s)});return global.GATSBY___IMAGE||(u.style={height:"100%",left:0,position:"absolute",top:0,width:"100%"}),u}var j=function(r){var n=r.layout,a=r.width,i=r.height,o=r.children,s=null;return"fluid"===n&&(s=t.createElement("div",{"aria-hidden":!0,style:{paddingTop:i/a*100+"%"}})),"constrained"===n&&(s=t.createElement("div",{style:{maxWidth:a,display:"block"}},t.createElement("img",{alt:"",role:"presentation","aria-hidden":"true",src:"data:image/svg+xml;charset=utf-8,%3Csvg height='"+i+"' width='"+a+"' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E",style:{maxWidth:"100%",display:"block",position:"static"}}))),t.createElement(e,null,s,o,!1)},O=!1,C=function(e){var s=e.as,u=void 0===s?"div":s,l=e.style,c=e.className,f=e.class,d=e.onStartLoad,g=e.image,p=e.onLoad,h=e.backgroundColor,m=o(e,["as","style","className","class","onStartLoad","image","onLoad","backgroundColor"]);if(!g)return"development"===process.env.NODE_ENV&&console.warn("[gatsby-plugin-image] Missing image prop"),null;f&&(c=f);var y=g.width,v=g.height,b=g.layout,w=g.images,k=r(),A=r(!1),x=r(null),j=r(null),C=r(),_=n(S()),L=_[0],N=_[1],T=n(!1),G=T[0],I=T[1];global.GATSBY___IMAGE||O||(O=!0,console.warn('[gatsby-plugin-image] You\'re missing out on some cool performance features. Please add "gatsby-plugin-image" to your gatsby-config.js'));var R=function(t,e,r){var n={position:"relative",overflow:"hidden"};return"fixed"===r?(n.width=t,n.height=e):"constrained"===r&&(n.display="inline-block"),{className:"gatsby-image-wrapper","data-gatsby-image-wrapper":"",style:n}}(y,v,b),M=R.style,z=R.className,W=o(R,["style","className"]);a(function(){if(k.current){var t=k.current.querySelector("[data-gatsby-image-ssr]");if(S()&&t&&global.GATSBY___IMAGE)return null==d||d({wasCached:!1}),t.complete&&(null==p||p(),E(JSON.stringify(w))),void t.addEventListener("load",function e(){t.removeEventListener("load",e),null==p||p(),E(JSON.stringify(w))});import("./intersection-observer-3b889788.js").then(function(t){var e=(0,t.createIntersectionObserver)(function(){k.current&&(null==d||d({wasCached:!1}),N(!0))});k.current&&(x.current=e(k))})}return function(){x.current&&(x.current(k),A.current&&j.current&&j.current())}},[]),a(function(){if(k.current){var t=k.current.querySelector("[data-gatsby-image-ssr]");if(S()&&t&&!A.current)return void(A.current=!0);t||(A.current=!0),import("./lazy-hydrate-77ccf840.js").then(function(t){j.current=(0,t.lazyHydrate)(i({image:g,isLoading:L,isLoaded:G,toggleIsLoaded:function(){null==p||p(),I(!0)},ref:C},m),k,A)})}},[y,v,b,w,L,G,I,C,m]);var Y=function(t,e,r){var n=null;return"fluid"===t&&(n='<div aria-hidden="true" style="padding-top: '+r/e*100+'%;"></div>'),"constrained"===t&&(n='<div style="max-width: '+e+'px; display: block;"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=\''+r+"' width='"+e+"' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>"),n}(b,y,v);return t.createElement(u,Object.assign({},W,{style:i({},M,l,{backgroundColor:h}),className:z+(c?" "+c:""),ref:k,dangerouslySetInnerHTML:{__html:Y},suppressHydrationWarning:!0}))},_=function(e){return t.createElement(C,Object.assign({},e))};function L(){"development"===process.env.NODE_ENV&&console.warn('gatsby-plugin-image/compat does not support passing arrays to "fixed" or "fluid"')}function N(e){return function(r){var n=r.fixed,a=r.fluid,s=r.backgroundColor,u=r.critical,l=r.Tag,c=o(r,["fixed","fluid","backgroundColor","critical","Tag"]),f=i({alt:"",as:l,image:void 0},c);if(s&&(f.style=f.style||{},f.style.backgroundColor=!0===s?"light-gray":s),u&&(f.loading="eager"),n){Array.isArray(n)&&(L(),n=n[0]);var d={placeholder:void 0,layout:"fixed",width:n.width,height:n.height,images:{fallback:{src:n.src,srcSet:n.srcSet},sources:[]}},g=n.tracedSVG||n.base64;g&&(d.placeholder={fallback:g}),n.srcSetWebp&&d.images.sources.push({srcSet:n.srcSetWebp,type:"image/webp"}),f.image=d}else if(a){Array.isArray(a)&&(L(),a=a[0]);var p={width:1,height:a.aspectRatio,layout:"fluid",images:{fallback:{src:a.src,srcSet:a.srcSet,sizes:a.sizes},sources:[]}},h=a.tracedSVG||a.base64;h&&(p.placeholder={fallback:h}),a.srcSetWebp&&p.images.sources.push({srcSet:a.srcSetWebp,type:"image/webp",sizes:a.sizes}),f.image=p}return t.createElement(e,Object.assign({},c,f))}}_.displayName="GatsbyImage";var T=N(_);export{T as G,j as L,N as _,o as a,i as b,k as c,A as d,x as g,S as h};
//# sourceMappingURL=compat.browser-d706b78e.js.map
